<%= form_with model: @booking, local: true do |f| %>
  <% i = 1 %>
  <%= f.fields_for :passengers do |passengers_form| %>
    <div class="field is-horizontal">
      <label class="label">
        <%= "Passenger #{i}" %><br/>
      </label>

      <div class="field-body">
        <p class="control is-expanded">
          <%= passengers_form.text_field :name, placeholder: "Passenger's name", required: true, class: "input" %>
        </p>

        <p class="control is-expanded">
          <%= passengers_form.email_field :email, placeholder: "name@example.com", required: true, class: "input" %>
        </p>
      </div>
    </div>
    <% i += 1%>
  <% end %>
  
  <%= f.hidden_field :flight_id, value: params[:flight_id] %>

  <div class="field is-grouped is-grouped-right">
    <div class="control">
      <%= f.submit 'Purchase Ticket', class: "button is-dark is-outlined" %>
    </div>
  </div>
<% end %>
